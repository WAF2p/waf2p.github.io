---
layout: default
---

{%- comment -%}
Post layout aligned with the Lindy-like landing style.
We infer a cover image from the first Markdown image in the post content.
Fallback to the WAF++ logo.
{%- endcomment -%}

{% assign author = nil %}
{% if page.author_staff_member %}
{% assign author = site.staff_members | where: 'slug', page.author_staff_member | first %}
{% endif %}

<section class="post-hero">
  <div class="container">
    {% include breadcrumb.html %}

    <div class="post-hero__meta">
      <span class="pill">{{ page.date | date: "%d.%m.%Y" }}</span>
      {% if page.categories and page.categories.size > 0 %}
      <span class="muted small">•</span>
      <span class="post-cats">
          {% for c in page.categories %}
            <a class="cat-badge" href="/blog/category/{{ c | slugify }}/">{{ c }}</a>
          {% endfor %}
        </span>
      {% endif %}
    </div>

    <h1 class="post-hero__title">{{ page.title }}</h1>

    <p class="lead post-hero__lead">
      {{ page.excerpt | strip_html | strip | truncate: 220 }}
    </p>

    {% if author %}
    <div class="post-hero__byline">
        <span class="post-hero__avatar">
          <img src="{% include relative-src.html src=author.image_path %}" alt="{{ author.name }}">
        </span>
      <div class="post-hero__byline-text">
        <div class="post-hero__byline-name">{{ author.name }}</div>
        {% if author.position %}<div class="post-hero__byline-role">{{ author.position }}</div>{% endif %}
      </div>
    </div>
    {% endif %}
  </div>
</section>

<section class="post-body">
  <div class="container">
    <article class="prose">
      {{ content }}
    </article>

    {% if author %}
    <section class="author-card" aria-label="Author">
      <div class="author-card__avatar">
        <img src="{% include relative-src.html src=author.image_path %}" alt="{{ author.name }}">
      </div>
      <div class="author-card__content">
        <div class="author-card__name">{{ author.name }}</div>
        {% if author.position %}<div class="author-card__role">{{ author.position }}</div>{% endif %}
        {% if author.blurb %}<p class="author-card__blurb">{{ author.blurb }}</p>{% endif %}
      </div>
    </section>
    {% endif %}

    <nav class="post-nav" aria-label="Blog Navigation">
      {% if page.previous.url %}
      <a class="btn btn-ghost" href="{% include relative-src.html src=page.previous.url %}">
        <span aria-hidden="true">←</span> {{ page.previous.title }}
      </a>
      {% else %}
      <span></span>
      {% endif %}

      <a class="btn" href="{% include relative-src.html src='/blog/' %}">Back to overview</a>

      {% if page.next.url %}
      <a class="btn btn-ghost" href="{% include relative-src.html src=page.next.url %}">
        {{ page.next.title }} <span aria-hidden="true">→</span>
      </a>
      {% else %}
      <span></span>
      {% endif %}
    </nav>

    {% if site.disqus_shortname and page.comments %}
    <div class="post-comments" id="disqus_thread"></div>
    <script>
      var disqus_shortname = '{{ site.disqus_shortname }}';
      var disqus_config = function () {
        this.page.url = "{{ page.url | prepend: site.url }}";
        this.page.identifier = "{{ page.id }}";
      };

      (function () {
        var d = document, s = d.createElement('script');
        s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
      })();
    </script>
    <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    {% endif %}
  </div>
</section>